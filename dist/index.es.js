import e,{useState as t,useEffect as o,useCallback as r,useRef as i}from"react";import*as s from"prismjs/components/prism-core";import"prismjs/themes/prism-okaidia.css";import n from"classnames/bind";import{MdCheck as a,MdContentCopy as c}from"react-icons/md";import l from"copy-to-clipboard";!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===o&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".samushi-code{margin:20px;position:relative;width:auto}.samushi-code .btn-copy{background-color:#080808;background:#fff;border:1px solid #ccc;border-radius:50%;color:purple;height:35px;outline:none;position:absolute;right:-15px;text-align:center;top:-15px;vertical-align:middle;width:35px}pre[class*=language-]>code{display:block;position:relative}");let m=n.bind({lineNumber:"line-numbers"});const d=({copyText:n,language:d="javascript",showLines:p=!0})=>{const u=i("samushi_code"),[g,h]=(({debug:e=!1,message:i="",interval:s=null})=>{const[n,a]=t(!1);o((()=>{let e;return n&&s&&(e=setTimeout((()=>{a(!1)}),s)),()=>{clearTimeout(e)}}),[n,s]);const c=r((t=>{"string"!=typeof t&&"number"!=typeof t||(l(t.toString(),{debug:e,message:i}),a(!0))}),[]);return[n,c]})({debug:!1,message:"Press #{x} to copy",interval:1e3});o((()=>{s.highlightElement(u.current)}),[]);let b=m({lineNumber:p});return e.createElement("div",{className:"samushi-code"},e.createElement("pre",{className:`language-${d} ${b}`},e.createElement("code",{ref:u,className:`language-${d}`},n.toString().trim())),e.createElement("button",{className:"btn-copy",onClick:()=>h(n)},g?e.createElement(a,{size:18}):e.createElement(c,{size:18})))};export{d as Copyclipboard};
